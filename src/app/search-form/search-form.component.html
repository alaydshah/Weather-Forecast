<div class="container">
    <h1>Weather Search</h1>
    <form (ngSubmit) = "onSubmit()" #weatherForm = "ngForm">
        <div class="form-group row">
          <label for="street" class="col-sm-2 control-label">Street<span class="mandatory">*</span></label>
          <div class="col-sm-10">
            <input type="text" id="street" placeholder="Enter Street Name"
            [(ngModel)] = "formQuery.street" name="street" #street = "ngModel" 
            [ngClass]="{'form-control': true}" required noWhitespace  [disabled]=formQuery.currLoc>
            <div class = "error-msg" [hidden]="street.valid || street.untouched || formQuery.currLoc">Please enter a street.</div>
          </div>    
        </div>
        <div class="form-group row">
          <label for="city" class="col-sm-2 col-form-label">City<span class="mandatory">*</span></label>
          <div class="col-sm-10">
            <input type="text" id="city" placeholder="Enter City Name"
            [(ngModel)] = "formQuery.city" name="city" #city = "ngModel"
            [ngClass]="{'form-control': true}" required noWhitespace  [disabled]=formQuery.currLoc>
            <div class = "error-msg" [hidden]="city.valid || city.untouched || formQuery.currLoc">Please enter a city.</div>
          </div>
        </div>
        <div class="form-group row">
            <label for="state" class="col-sm-2 col-form-label">State<span class="mandatory">*</span></label>
            <div class="col-sm-10">
                <select id="state" [(ngModel)]="formQuery.state" name="state" #state = "ngModel"
                [ngClass]="{'form-control': true}" required [disabled]=formQuery.currLoc>
                    <option *ngFor="let state of states" [ngValue]=state.value>{{state.name}}</option>
                </select>    
            </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12 col-form-label">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="currLoc" ng-true-value="'YES'" ng-false-value="'NO'" #currLoc = "ngModel"
                [(ngModel)]="formQuery.currLoc" name="currLoc" (click)="onCurrCheck(weatherForm)">
              <label class="form-check-label" for="gridCheck1">
                Current Location
              </label>
            </div>
          </div>
        </div> 
        <div class="form-group row">
          <div class="col-sm-10">
            <button type="submit" class="btn btn-primary" (click)="onSubmit" [disabled]="(!weatherForm.form.valid || !formQuery.state) && !formQuery.currLoc" routerLink="/results/current"><i class="fas fa-search"></i>Search</button>
            <button type="reset" class="btn btn-primary" (click)="onClear()" routerLink="/results"><img class="clear" src="../../assets/img/clear_all.png">Clear</button>
            <!-- <button type="submit" class="btn btn-primary">Sign in</button> -->
          </div>
        </div>
    </form>
</div>